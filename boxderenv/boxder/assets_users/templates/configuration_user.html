{% extends 'base.html' %}
{% load static %}
{% block title%}Configuración{% endblock %}
{% block head %}
<link rel="stylesheet" href="{% static 'css/configuration.css' %}">
<link rel="stylesheet" href="{% static 'css/boxderIndex.css' %}">
<script src="{% static 'lib/plugins/jquery/jquery.min.js' %}"></script>


{% endblock %}

{% block content %}
<nav class="main-header sticky-top navbar navbar-expand-md navbar-light navbar-white">
    <div class="container">
      <a href="{% url 'boxder' %}" class="navbar-brand">
        <img src="../static/img/boxder.png" alt="boxder logo" class="brand-image ">
      </a>
      
      <button class="navbar-toggler order-1" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse order-3" id="navbarCollapse">
        <!-- Left navbar links -->
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
          </li>
          <li class="nav-item">
            <a href="index3.html" class="nav-link">Home</a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link">Contact</a>
          </li>

        </ul>
      </div>

      <!-- Right navbar links -->
      <ul class="order-1 order-md-3 navbar-nav navbar-no-expand ml-auto">
        <!-- Notifications Dropdown Menu -->
        <li class="nav-item dropdown">
          <a class="nav-link" data-toggle="dropdown" href="#">
            <i class="fas fa-exclamation-triangle"></i>
            <span class="badge badge-warning navbar-badge">15</span>
          </a>

        </li>
        <li class="nav-item dropdown">
          <a id="dropdownSubMenu1" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="nav-link dropdown-toggle">
            <i class="fas fa-user-cog"></i>
          </a>
          <ul aria-labelledby="dropdownSubMenu1" class="dropdown-menu border-0 shadow">
            <li><a href="{% url 'configurationuser' %}" class="dropdown-item"><i class="fas fa-tools"></i>
              &nbsp;&nbsp;&nbsp;Configuración de usuario</a></li>
            <li>
                <a href="#" class="dropdown-item" id="close-sesion"><i class="fas fa-sign-out-alt"></i>
                  &nbsp;&nbsp;&nbsp;Cerrar sesion</a>
            </li>
          </ul>
        </li>
      </ul>
    </div>
  </nav>

  <aside class="main-sidebar sidebar-dark-primary elevation-4">
    <div class="sidebar">
      <!-- Sidebar user (optional) -->
      <div class="user-panel mt-3 pb-3 mb-3 d-flex" id="user">
        <div class="image">
            <div>
                <div id="letterName">
                    <p>
                      {{ request.session.name.0 }}
                    </p>
                </div>    
            </div>
        </div>
        <div class="info">
            <p>{{ request.session.name }}</p>
            <p>{{ request.session.surnames }}</p>
        </div>
      </div>

      <!-- Sidebar Menu -->
      <nav class="mt-2">
        <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
          <!-- Add icons to the links using the .nav-icon class
               with font-awesome or any other icon font library -->
          <li class="nav-item">
                <a href="{% url 'boxder' %}" class="nav-link">
                  <i class="fas fa-people-carry"></i>
                  <p>
                    &nbsp;Activos
                  </p>
                </a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link">
              <i class="fas fa-user-friends"></i>
              <p>
                &nbsp;Usuarios
              </p>
            </a>
          </li>
          <li class="nav-item has-treeview menu-open">
            <a href="#" class="nav-link active">
              <i class="fas fa-clipboard-check"></i>
              <p>
                &nbsp;Auditoría
                <i class="fas fa-angle-left right"></i>
              </p>
            </a>
            <ul class="nav nav-treeview">
              <li class="nav-item">
                <a href="#" class="nav-link">
                  <i class="far fa-address-book"></i>
                  <p>&nbsp;Registro de usuarios</p>
                </a>
              </li>
              <li class="nav-item">
                <a href="#" class="nav-link">
                  <i class="fas fa-pencil-alt"></i>
                  <p>&nbsp;Modificaciones de usuario</p>
                </a>
              </li>
              <li class="nav-item">
                <a href="#" class="nav-link">
                  <i class="far fa-edit"></i>
                  <p>&nbsp;Modificaciones de activos</p>
                </a>
              </li>
              <li class="nav-item">
                <a href="#" class="nav-link">
                  <i class="fas fa-door-open"></i>
                  <p>&nbsp;Ingresos y salidas</p>
                </a>
              </li>
              <li class="nav-item">
                <a href="#" class="nav-link">
                  <i class="fas fa-archive"></i>
                  <p>&nbsp;Usuarios y activos</p>
                </a>
              </li>
              <li class="nav-item">
                <a href="#" class="nav-link">
                  <i class="fas fa-times"></i>
                  <p>&nbsp;Ingresos no autorizados</p>
                </a>
              </li>
              <li class="nav-item">
                <a href="#" class="nav-link">
                  <i class="fas fa-users-slash"></i>
                  <p>Usuarios suspendidos</p>
                </a>
              </li>
            </ul>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link">
              <i class="far fa-building"></i>
              <p>
                &nbsp;Departamentos
              </p>
            </a>
          </li>
        </ul>
      </nav>
      <!-- /.sidebar-menu -->
    </div>
    <!-- /.sidebar -->
  </aside>

    <main class="container">
         <div id="config">

          <div id="panel-colors">
            <div>
              <div id="button-letter">{{ request.session.name.0  }}</div>
          </div>
            <div id="colors">
                <div id="set1">
                    <button id="button-color" type="button"><div id="color1"></div></button>
                    <button id="button-color" type="button"><div id="color2"></div></button>
                    <button id="button-color" type="button"><div id="color3"></div></button>
                </div>
                <div id="set2">
                    <button id="button-color" type="button"><div id="color4"></div></button>
                    <button id="button-color" type="button"><div id="color5"></div></button>
                    <button id="button-color" type="button"><div id="color6"></div></button>
                </div>
            </div>
           </div>
             <div>
               
                 <form action="/update_config/" method="POST">
                  {% csrf_token %}
                  {% for data in users %}
                     <div>
                       
                        <div>
                            <label for="identification_card">Cedula</label>
                            <input type="text" name="identification_card" id="identification_card"
                            placeholder="Escribe aquí..." autocomplete="off" value='{{ data.identification_card }}'>
                            <input type="text" id="error-text1" disabled>    
                        </div>
        
                        <div>
                            <label for="name">Nombre</label>
                            <input type="text" name="name" id="name" autocomplete="off" 
                            placeholder="Escribe aquí..." value='{{ data.name }}'>
                            <input type="text" id="error-text2" disabled> 
                        </div>
                     </div>

                    <div>
                        <div>
                            <label for="apellidos">Apellidos</label>
                            <input type="text" name="surnames" id="surnames" autocomplete="off" 
                            placeholder="Escribe aquí..." value="{{ data.surnames }}">
                            <input type="text" id="error-text3" disabled> 
                        </div>
                        
                        <div>
                            <label for="phone">Teléfono</label>
                            <input type="tel" name="phone" id="phone" placeholder="8 digitos..." 
                            autocomplete="off" value="{{ data.phone }}">
                            <input type="text" id="error-text4" disabled> 
                        </div>
                    </div>


                    <div>
                        <div>
                            <label for="department">Departamento</label>
                            <select name="department" id="department">
                                <option value=""></option> <!--Empty-->
                            {% if departments %}
                                {% for department in departments %}
                                    <option value="{{ department.name }}">{{ department.name }}</option>
                                {% endfor %}
                            {% endif %}
                            </select>
                            <input type="text" id="error-text5" disabled> 
                        </div>
                        <div>
                            <label for="age">Edad</label>
                            <input type="text" name="age" id="age" autocomplete="off" 
                            placeholder="Escribe aquí..." value="{{ data.age }}">
                            <input type="text" id="error-text6" disabled> 
                        </div>
                    </div>

                    
                    <div>
                        <div>
                            <label for="email">Correo</label>
                            <input type="text" name="email" id="email" placeholder="alberth24@..." 
                            autocomplete="off" value="{{ data.email }}">    
                            <input type="text" id="error-text7" disabled> 
                        </div>

                    </div>
                  {% endfor %}
                    <button type="submit">Aceptar</button>
                 </form>
             </div>
         </div>
    </main>
    <script type="text/javascript" src="{% static 'js/boxderConfig/validationServer.js' %}"></script>

    {% if response %}
      <script type="text/javascript">
        dataFromServer('{{ response }}');
      </script>
    {% endif %}

    <script type="text/javascript" src="{% static 'js/boxderindex/colorPicker.js' %}"></script>

    {% endblock %}